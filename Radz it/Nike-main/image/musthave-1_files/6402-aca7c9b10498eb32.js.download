"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6402],{27614:function(e,n,i){i.d(n,{Z:function(){return useRecentlyViewed_useRecentlyViewed}});var a=i(78928),t=i(76365),d=i(17900);let l={kind:"Document",definitions:(e=>{let n={};return e.filter(e=>{if("FragmentDefinition"!==e.kind)return!0;let i=e.name.value;return!n[i]&&(n[i]=!0,!0)})})([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RecentlyViewedProducts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ProductSelectionType"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"country"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"currencyCode"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CurrencyCode"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allProducts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}},{kind:"Argument",name:{kind:"Name",value:"page"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"page"},value:{kind:"IntValue",value:"0"}},{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"listingType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"brand"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"productCategory"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"urlKey"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"uuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gender"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"browseVerticals"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"FavoriteProductFragment"},directives:[]},{kind:"Field",name:{kind:"Name",value:"variants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"media"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"smallImageUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"market"},arguments:[{kind:"Argument",name:{kind:"Name",value:"currencyCode"},value:{kind:"Variable",name:{kind:"Name",value:"currencyCode"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bidAskData"},arguments:[{kind:"Argument",name:{kind:"Name",value:"country"},value:{kind:"Variable",name:{kind:"Name",value:"country"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lowestAsk"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[{kind:"Argument",name:{kind:"Name",value:"country"},value:{kind:"Variable",name:{kind:"Name",value:"country"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"numberOfCustodialAsks"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lowestCustodialAsk"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"salesInformation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lastSale"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}].concat(d.Z.definitions)),loc:{start:0,end:966,source:{body:"\n  query RecentlyViewedProducts(\n    $type: ProductSelectionType!\n    $limit: Int!\n    $country: String!\n    $currencyCode: CurrencyCode!\n  ) {\n    allProducts(type: $type, page: { page: 0, limit: $limit }) {\n      edges {\n        node {\n          id\n          listingType\n          title\n          brand\n          productCategory\n          name\n          urlKey\n          uuid\n          gender\n          browseVerticals\n          ...FavoriteProductFragment\n          variants {\n            id\n          }\n          media {\n            smallImageUrl\n          }\n          market(currencyCode: $currencyCode) {\n            bidAskData(country: $country) {\n              lowestAsk\n            }\n            state(country: $country) {\n              numberOfCustodialAsks\n              lowestCustodialAsk {\n                amount\n              }\n            }\n            salesInformation {\n              lastSale\n            }\n          }\n        }\n      }\n    }\n  }\n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},useRecentlyViewed_select=e=>{var n,i;return(null==e?void 0:null===(i=e.allProducts)||void 0===i?void 0:null===(n=i.edges)||void 0===n?void 0:n.map(e=>({...null==e?void 0:e.node})))||[]};var useRecentlyViewed_useRecentlyViewed=function(e,n){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,a.Z)(l,{enabled:!i,variables:{country:n,currencyCode:e,limit:20,type:t.r.RECENTLY_VIEWED},select:useRecentlyViewed_select,refetchOnMount:!0})}},4841:function(e,n,i){var a=i(52903),t=i(2784),d=i(60813),l=i(44969),r=i(85941),u=i(20360),s=i(77533),m=i(6015),c=i(58792),o=i(80057),k=i(21346),v=i(19884),y=i(4883),N=i(52620),g=i(27288),p=i(27084),S=i(19843),b=i(86765),F=i(76368),f=i(96047),V=i(20601),Z=i(87194);n.Z=e=>{let{loading:n,handleTrackEvent:i,products:w,slidesToScroll:C,slidesToShow:_}=e,{t:h}=(0,d.$G)(),T=(0,Z.Z)(),A=(0,p.Z)(),D=(0,S.Z)(),{currency:O}=(0,N.Z)(),R=(0,b.Z)(),[$,E]=(0,u.YD)({triggerOnce:!0}),P=(0,F.Z)(f.Z.feature_flag_drc_xpress_shipping_web);if((0,t.useEffect)(()=>{E&&(0,l.Z)(r.Z.PRODUCT_CAROUSEL_VIEWED,{swooshName:"Recently Viewed",screenName:R})},[E]),!w)return null;let I="last_sale",U=(0,c.Z)(I);return(0,a.BX)(a.HY,{children:[(0,a.tZ)(s.x,{as:"h3",fontSize:{base:"md",lg:"lg"},sx:m.k7,ref:$,children:h("home_page_recently_viewed")}),(0,a.tZ)(g.Z,{loading:n,slidesToScroll:C,slidesToShow:_,children:w.map((e,t)=>{var d,l;let r=(0,o.Z)(null==e?void 0:e.market,h,O),u=(0,k.Z)(e,I,h,A,D,O),s=P&&!!(null==e?void 0:null===(l=e.market)||void 0===l?void 0:null===(d=l.state)||void 0===d?void 0:d.numberOfCustodialAsks)&&"US"===T;return(0,a.BX)(v.Z,{index:t,product:e,tracking:"",swooshName:"",useMargin:4,handleTrackEvent:()=>i(e,t),children:[(0,a.tZ)(y.Z,{label:r.label,amount:r.amount}),U&&!s&&(0,a.tZ)(U,{displayData:u,type:I,product:e}),s&&(0,a.tZ)(V.Z.XpressShipping,{})]},`recently-viewed-carousel-${t}-${n}`)})})]})}}}]);